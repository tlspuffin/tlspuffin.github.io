"use strict";(self.webpackChunktlspuffin_website=self.webpackChunktlspuffin_website||[]).push([[8060],{3217:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>o});var s=t(4848),i=t(8453);const r={title:"Fuzzing OpenSSL"},a=void 0,l={id:"guides/getting-started/fuzzing-openssl",title:"Fuzzing OpenSSL",description:"Building the Fuzzer",source:"@site/docs/guides/getting-started/fuzzing-openssl.md",sourceDirName:"guides/getting-started",slug:"/guides/getting-started/fuzzing-openssl",permalink:"/docs/guides/getting-started/fuzzing-openssl",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Fuzzing OpenSSL"},sidebar:"docs",previous:{title:"Building OpenSSL",permalink:"/docs/guides/getting-started/building-openssl"},next:{title:"Replaying Traces",permalink:"/docs/guides/getting-started/replaying-traces"}},d={},o=[{value:"Building the Fuzzer",id:"building-the-fuzzer",level:2},{value:"Generating Seeds",id:"generating-seeds",level:2},{value:"Running the Fuzzer",id:"running-the-fuzzer",level:2}];function c(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"building-the-fuzzer",children:"Building the Fuzzer"}),"\n",(0,s.jsx)(n.p,{children:"Now that we have the OpenSSL library to serve as a fuzz target, we can create the corresponding fuzzer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cargo build --release --bin=tlspuffin --features=openssl312,asan\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By setting ",(0,s.jsx)(n.code,{children:"--features=openssl312,asan"}),", the build process will automatically select the fuzz target located in ",(0,s.jsx)(n.code,{children:"./vendor/openssl312-asan"}),".\nThe build process creates the fuzzer at ",(0,s.jsx)(n.code,{children:"./target/release/tlspuffin"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"generating-seeds",children:"Generating Seeds"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"tlspuffin"})," comes with a set of standard seeds for TLS (handshake, session resumption, ...) that can serve as the initial corpus for the fuzzing process, rather than letting the fuzzer rediscover the details of the TLS protocol."]}),"\n",(0,s.jsxs)(n.p,{children:["You can generate the seeds compatible with the selected fuzz target in the ",(0,s.jsx)(n.code,{children:"./seeds"})," folder by running:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"./target/release/tlspuffin seed\n"})}),"\n",(0,s.jsx)(n.h2,{id:"running-the-fuzzer",children:"Running the Fuzzer"}),"\n",(0,s.jsx)(n.p,{children:"Now we are finally ready to launch the fuzzer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"./target/release/tlspuffin --cores=0-3 --tui quick-experiment\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This creates a folder ",(0,s.jsx)(n.code,{children:"experiments/<id>"})," containing the results of the fuzzing run.\nIn particular, the folder ",(0,s.jsx)(n.code,{children:"experiments/<id>/corpus"})," will store the corpus found during the fuzzing session."]}),"\n",(0,s.jsx)(n.admonition,{title:"What are these .trace files in my corpus folder?",type:"tip",children:(0,s.jsxs)(n.p,{children:["Because ",(0,s.jsx)(n.em,{children:"tlspuffin"})," works at a higher level of abstraction compared to generic fuzzers, the corpus files are not raw inputs for a binary but rather traces of the protocol session between different agents. More details in the next section!"]})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);